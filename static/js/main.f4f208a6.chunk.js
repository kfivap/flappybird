(this.webpackJsonpflappybird=this.webpackJsonpflappybird||[]).push([[0],[,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(4),i=c.n(r),a=(c(9),c(10),c(11),c(2)),o=c(0),j=s.a.createContext(),u=function(e){var t=e.children,c=Object(n.useState)(~~(.45*window.innerHeight)),s=Object(a.a)(c,2),r=s[0],i=s[1],u=Object(n.useState)(!0),b=Object(a.a)(u,2),l=b[0],O=b[1],f=Object(n.useState)(0),d=Object(a.a)(f,2),m=d[0],g=d[1],h=Object(n.useState)(0),v=Object(a.a)(h,2),x=v[0],S=v[1],p=Object(n.useState)(!1),R=Object(a.a)(p,2),C=R[0],P=R[1],w=Object(n.useState)(!1),I=Object(a.a)(w,2),T=I[0],y=I[1];Object(n.useEffect)((function(){if(r+40+50<window.innerHeight&&l){var e=setInterval((function(){return i(r+30)}),100);return function(){return clearInterval(e)}}}),[l,r]);var F=Object(n.useState)(),N=Object(a.a)(F,2),B=N[0],E=N[1],k=Object(n.useState)(),M=Object(a.a)(k,2),G=M[0],H=M[1];return Object(n.useEffect)((function(){if(G)if(B.top>G.top&&B.bottom<G.bottom);else if(T)y(!1);else{S(99999900);var e=parseInt(localStorage.getItem("maxScore"));e||localStorage.setItem("maxScore",m),e<=m&&localStorage.setItem("maxScore",m)}}),[G,x]),Object(o.jsx)(j.Provider,{value:{pos:r,setPos:i,falling:l,setFalling:O,birdRect:B,setBirdRect:E,passageRect:G,setPassageRect:H,score:m,setScore:g,gameOverTimeout:x,setGameOverTimeout:S,restart:C,setRestart:P,immortal:T,setImmortal:y},children:t})},b=function(){var e=Object(n.useContext)(j),t=Object(n.useRef)();return Object(n.useEffect)((function(){try{e.setBirdRect(t.current.getBoundingClientRect())}catch(c){console.log(c)}}),[e.pos,e.falling]),Object(o.jsx)("div",{className:"bird",style:{top:e.pos},ref:t,children:e.pos})},l=(c(13),function(){var e=Object(n.useContext)(j);return Object(o.jsx)("div",{className:"Screen",onClick:function(){e.setPos(e.pos-135),e.setFalling(!1),setTimeout((function(){e.setFalling(!0)}),100)}})}),O=(c(14),function(e){var t=Object(n.useState)(e.initPos),c=Object(a.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)("linear"),u=Object(a.a)(i,2),b=u[0],l=u[1],O=Object(n.useContext)(j);Object(n.useEffect)((function(){var e;if(s>-50)return e=setInterval((function(){return r((function(e){return e-10}))}),O.gameOverTimeout+200),function(){return clearInterval(e)};l("step-start"),O.setScore((function(e){return e+1})),g(Math.floor(41*Math.random())+5),r(150),setTimeout((function(){l("linear")}),200)}),[s]);var f=Object(n.useState)(),d=Object(a.a)(f,2),m=d[0],g=d[1];var h=Object(n.useRef)(),v=Object(n.useRef)();return Object(n.useEffect)((function(){try{var e=v.current.getBoundingClientRect(),t=O.birdRect;e.left-50>O.birdRect.left&&t.right+.15*window.innerWidth>e.right&&O.setPassageRect(e),e.left+50>O.birdRect.left&&t.right+.15*window.innerWidth>e.right?O.setPassageRect(e):O.setPassageRect(0)}catch(c){}}),[s]),Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"obstruction",style:{left:"".concat(s,"vw"),transitionTimingFunction:b},children:[Object(o.jsx)("div",{className:"obstructionTop",style:{height:"".concat(m,"vh")},ref:h,children:"\xa0 "}),Object(o.jsx)("div",{className:"passage",ref:v,children:" \xa0"}),Object(o.jsx)("div",{className:"obstructionBottom",style:{height:"".concat(100-m-40,"vh")},children:" \xa0"})]})})})}),f=function(){var e=Object(n.useContext)(j),t=Object(n.useState)(),c=Object(a.a)(t,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){r(e.score)}),[e.score]),Object(o.jsx)("h1",{children:s})},d=(c(15),function(){var e=Object(n.useContext)(j),t=localStorage.getItem("maxScore");return e.gameOverTimeout>5e4?Object(o.jsx)("div",{className:"GameOver",children:Object(o.jsxs)("div",{className:"Restart",children:[Object(o.jsx)("br",{}),"Your Score: ",e.score,Object(o.jsx)("br",{}),"Max: ",t," ",Object(o.jsx)("small",{children:"(localstorage)"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:function(){e.setImmortal(!0),e.setGameOverTimeout(0),e.setScore(0),e.setRestart(!0),e.setPos(~~(.45*window.innerHeight))},children:"Restart game"})]})}):null}),m=function(e){var t=Object(n.useContext)(j);return t.restart?(t.setRestart(!1),null):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l,{}),Object(o.jsx)(b,{}),Object(o.jsx)(f,{}),Object(o.jsx)(d,{}),Object(o.jsx)(O,{initPos:0}),Object(o.jsx)(O,{initPos:70}),Object(o.jsx)(O,{initPos:140})]})};var g=function(){return Object(o.jsx)(u,{children:Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(m,{})})})},h=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,17)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(g,{})}),document.getElementById("root")),h()}],[[16,1,2]]]);
//# sourceMappingURL=main.f4f208a6.chunk.js.map